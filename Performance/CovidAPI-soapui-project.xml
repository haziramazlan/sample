<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="7581115b-d83b-4be2-b546-0e7d1a3fc016" activeEnvironment="Default" name="CovidAPI" soapui-version="5.6.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="c6e5c504-f823-4a17-abb5-1d39a48dd708" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://localhost:8081" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://localhost:8081/covid/get/latest</con:endpoint></con:endpoints><con:resource name="my-covid-web" path="" id="bdae522c-dcee-4c7e-be72-1c1aa81f686a"><con:settings/><con:parameters/><con:method name="Covid Get" id="06fe10d7-bf74-4d12-bf75-c7cd450eeaf8" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/plain;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:add="http://localhost/covid/add">add:Response</con:element></con:representation><con:request name="Hello" id="a96f8e2c-0af8-4882-ace7-2801e30b7bd1" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8081/covid/hello</con:endpoint><con:request/><con:originalUri>http://localhost/covid/hello</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request><con:request name="GetLatest" id="ac059def-f127-4926-b882-c9e3a3044c0a" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8081/covid/get/latest</con:endpoint><con:request/><con:originalUri>http://localhost/covid/get/latest</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request><con:request name="AddDesc" id="ba6577f1-a3e2-4692-a1b6-d6dab0895a05" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8081/covid/add?desc=100</con:endpoint><con:request/><con:originalUri>http://localhost/covid/add</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method><con:method name="Covid Delete" id="209e37ce-c93c-4807-8552-2b8c1aab3616" method="DELETE"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:del="http://localhost/covid/delete">del:Fault</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:request name="DeleteDesc" id="8caab4ef-bd44-483e-bfb7-ef43d8bf64a8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8081/covid/delete?desc=100</con:endpoint><con:request/><con:originalUri>http://localhost/covid/delete</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:testSuite id="eb52ef70-a122-4e21-bc52-1e68f43c57d6" name="my-covid-web-test"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="1601b61f-f819-44fc-9354-0d2dc9981a9f" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="ALL API Functional Test" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="HelloAPI" id="c5654f1d-49ab-4c78-b351-918c8bf00625"><con:settings/><con:config service="http://localhost:8081" resourcePath="" methodName="Covid Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="HelloAPI" id="a96f8e2c-0af8-4882-ace7-2801e30b7bd1" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8081/covid/hello</con:endpoint><con:request/><con:originalUri>http://localhost/covid/hello</con:originalUri><con:assertion type="Simple Contains" id="7a692399-e20a-49ff-a540-8c1d5bec3c7b" name="Contains"><con:configuration><token>Hello</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="ValidateHello" id="9635d3c5-5f3c-4b76-b87d-1e80b70ecd85"><con:settings/><con:config><script>log.info ('logging started')

String value = testRunner.testCase.getTestStepByName('HelloAPI').properties.Response.value

log.info ('logging here-->' +value.substring(0,5));</script></con:config></con:testStep><con:testStep type="restrequest" name="GetLatest" id="a8b6aa72-2fb0-4625-8ef5-f3cce11acbe8"><con:settings/><con:config service="http://localhost:8081" resourcePath="" methodName="Covid Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GetLatest" id="ac059def-f127-4926-b882-c9e3a3044c0a" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8081/covid/get/latest</con:endpoint><con:request/><con:originalUri>http://localhost/covid/get/latest</con:originalUri><con:assertion type="Simple Contains" id="7f132616-3251-46d3-9f54-b7aac3886eb5" name="Contains"><con:configuration><token>Total</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="ValidateLatestCovid" id="60ea9ff3-741b-47e1-9d1a-af3c24a013a5"><con:settings/><con:config><script>log.info ('logging started')

String value = testRunner.testCase.getTestStepByName('GetLatest').properties.Response.value
log.info ('logging value-->' +value);

//substring first character of the total cases
String totalCasesValue = value.substring(12,13);

//display total cases value
log.info ('logging here-->' +totalCasesValue);

//assert ensure value is not 0
assert( ! totalCasesValue.equals("0"));</script></con:config></con:testStep><con:testStep type="restrequest" name="AddDesc" id="34654040-141a-4ba1-875d-1af67c1f6b1e"><con:settings/><con:config service="http://localhost:8081" resourcePath="" methodName="Covid Get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AddDesc" id="ba6577f1-a3e2-4692-a1b6-d6dab0895a05" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8081/covid/add?desc=100</con:endpoint><con:request/><con:originalUri>http://localhost/covid/add</con:originalUri><con:assertion type="Simple Contains" id="856852e5-52db-4fd2-883e-379df5f6451b" name="Contains"><con:configuration><token>description</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="ValidateAdd" id="ef1763f6-7ad0-4780-b82d-f8bf6baff7ce"><con:settings/><con:config><script>log.info ('logging started')

String value = testRunner.testCase.getTestStepByName('AddDesc').properties.Response.value
log.info ('logging value-->' +value);

//validate json format
def json = new groovy.json.JsonSlurper().parseText(value);

log.info ('logging json description-->' +json.description);
assert(json.description != null);</script></con:config></con:testStep><con:testStep type="restrequest" name="DeleteDesc" id="4ac1510d-66f7-48d0-a2c8-8515ee704ded"><con:settings/><con:config service="http://localhost:8081" resourcePath="" methodName="Covid Delete" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="DeleteDesc" id="8caab4ef-bd44-483e-bfb7-ef43d8bf64a8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8081/covid/delete/soap?desc=100</con:endpoint><con:request/><con:originalUri>http://localhost/covid/delete</con:originalUri><con:assertion type="Simple Contains" id="07ad3fdf-7042-4e1a-9e9a-6d08e0f09576" name="Contains"><con:configuration><token>1</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="ValidateDelete" id="70328e24-79e8-4c60-b833-0668adb8d8ae"><con:settings/><con:config><script>log.info ('logging started')

String value =testRunner.testCase.getTestStepByName('DeleteDesc')properties.Response.value
log.info('logging value --->' + value);

int i = Integer.parseInt(value);

log.info('logging i --->' + i);
assert (i == 1);</script></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>